<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Сообщество - SpacePoint</title>
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="community.css">
    <link rel="stylesheet" href="../sidebar.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="icon" type="image/x-icon" href="../flow.ico">
</head>
<body>
    <!-- Боковое меню -->
    <nav class="sidebar">
        <button class="sidebar-toggle">
            <i class="fas fa-chevron-right"></i>
        </button>
        <div class="sidebar-logo">
            <img src="../flow.ico" alt="Logo" class="sidebar-icon">
        </div>
        <div class="sidebar-nav">
            <a href="../profile/profile.html" class="sidebar-link">
                <i class="fas fa-user"></i>
                <span>Профиль</span>
            </a>
            <a href="../lenta/lenta.html" class="sidebar-link">
                <i class="fas fa-stream"></i>
                <span>Лента</span>
            </a>
            <a href="../games/games.html" class="sidebar-link">
                <i class="fas fa-gamepad"></i>
                <span>Игры</span>
            </a>
            <a href="../about/about.html" class="sidebar-link">
                <i class="fas fa-info-circle"></i>
                <span>О нас</span>
            </a>
        </div>
        <div class="theme-switch-wrapper">
            <div class="theme-toggle-container">
                <input type="checkbox" class="theme-checkbox" id="theme-toggle" hidden>
                <label class="theme-label" for="theme-toggle">
                    <div class="theme-icons">
                        <i class="fas fa-sun theme-icon sun-icon"></i>
                        <i class="fas fa-moon theme-icon moon-icon"></i>
                    </div>
                </label>
            </div>
        </div>
    </nav>

    <!-- Основной контент -->
    <div class="community-layout">
        <div class="community-sidebar">
            <div class="community-card">
                <div class="community-header">
                    <div class="community-avatar-wrapper">
                        <img id="community-avatar" src="/uploads/communities/default.png" alt="Аватар сообщества">
                        <div class="avatar-overlay" style="display: none;">
                            <label for="avatar-upload" class="avatar-upload-label">
                                <i class="fas fa-camera"></i>
                                <span>Обновить фото</span>
                            </label>
                            <input type="file" id="avatar-upload" accept="image/*" style="display: none;">
                        </div>
                    </div>
                    <h1 id="community-name"></h1>
                    <span id="community-type"></span>
                    <div class="community-stats">
                        <div class="stat-item">
                            <i class="fas fa-users"></i>
                            <span id="members-count">0</span> участников
                        </div>
                        <div class="stat-item">
                            <i class="fas fa-newspaper"></i>
                            <span id="posts-count">0</span> записей
                        </div>
                    </div>
                </div>

                <div class="community-info">
                    <div class="info-row">
                        <span class="info-label">Создатель:</span>
                        <a id="creator-link" href="#" class="creator-name"></a>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Дата создания:</span>
                        <span id="created-at"></span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Описание:</span>
                        <p id="community-description" class="description-text"></p>
                    </div>
                </div>

                <div class="community-actions">
                    <button id="join-leave-btn" class="action-btn">
                        <i class="fas fa-user-plus"></i>
                        <span>Вступить</span>
                    </button>
                    <button id="edit-community-btn" class="action-btn" style="display: none;">
                        <i class="fas fa-edit"></i>
                        <span>Редактировать</span>
                    </button>
                </div>
            </div>

            <!-- Блок участников -->
            <div class="members-section">
                <div class="members-header">
                    <h3>Участники</h3>
                    <span class="members-count">0</span>
                </div>
                <div class="members-grid">
                    <!-- Участники добавляются динамически -->
                </div>
            </div>
        </div>

        <div class="community-content">
            <!-- Форма создания поста -->
            <div id="post-form" class="post-form">
                <textarea 
                    id="post-content" 
                    placeholder="Что нового в сообществе?" 
                    maxlength="250"
                ></textarea>
                <div class="post-form-actions">
                    <div class="post-attachments">
                        <label for="post-image" class="attachment-btn">
                            <i class="fas fa-image"></i>
                            <span>Добавить фото</span>
                        </label>
                        <input type="file" id="post-image" accept="image/*" style="display: none;">
                    </div>
                    <button id="publish-post-btn" class="action-btn">
                        <i class="fas fa-paper-plane"></i>
                        <span>Опубликовать</span>
                    </button>
                </div>
            </div>

            <!-- Контейнер для постов -->
            <div id="posts-container" class="posts-container">
                <!-- Посты добавляются динамически -->
            </div>

            <div id="community-members" class="members-container"></div>
        </div>
    </div>

    <script src="community.js"></script>
    <script src="../sidebar.js"></script>
</body>
</html> 